 

#### 2-2 数据库设计 - 逻辑数据库

1. 逻辑数据库设计：形成初始关系模式$\to$关系模式规范化
2. 形成初始关系模式：
   1. 普通实体集的变换：复合属性不要，只要简单子属性、实体的码是关系的主码。
   2. 弱实体的变换：关联的属性主码加入关系，与本实体的部分码组成主码。
   3. 多值属性变换：单独建立一个关系，所有值附加原关系的主码作为主码。
   4. 1:1联系变换：在任意一方实体集中增加一个对方的主码作为外码，描述性属性同时加入，尽量选择被全域约束的实体添加。
   5. 1:n联系变换：将1的主码放入n中作为外码，描述性属性同时加入。
   6. m:n联系变换：建立一个新关系，包含两个的主码。
   7. n元联系变换：建立一个新关系，包含n个主码。
3. 初始关系模式存在的问题：
   1. 插入异常：存在因约束性无法加入相对完整的新内容的情况。
   2. 删除异常：存在因删除元组导致其他信息被删除的情况（无法单独删除元组部分属性）。
   3. 数据冗余、更新问题
4. 关系模式规范化：
   1. 确定函数依赖集
      1. 函数依赖
         1. X$\to$Y $\iff$ t为元组，$\forall t_1[X]=t_2[X] \to t_1[Y]=t_2[Y] $，X为Y的决定属性集
         2. 非平凡依赖：Y不是X的子集
         3. 平凡依赖：Y是X的子集
         4. 完全依赖：X任意一个真子集都不成立
         5. 部分函数依赖
         6. 传递函数依赖：Z-X/Z-Y/Y-X不空，Y$\to$X不成立，则$X\to Y,Y\to Z \Rightarrow X\to Z$
         7. 超码：设U为属性全集，$K\to U$
         8. 候选码：完全依赖
         9. 主码：选择的一个候选码
         10. 键属性：是候选码的属性
         11. 全键：候选码包含所有属性
      2. Armstrong公理系统
         1. 逻辑蕴含：能够通过公理推导
         2. 三个公理：
            1. 自反律：$Y\subseteq X \subseteq U,  \Rightarrow X\to  Y$
            2. 增广律：$X\to Y, Z\subseteq U \Rightarrow XZ\to YZ$
            3. 传递律：$X\to Y, Y\to Z \Rightarrow X\to Z$
         3. 导出规则：
            1. 合并规则：$X\to Y, X\to Z \Rightarrow X\to YZ$
            2. 伪传递规则：$X\to Y, YW\to Z \Rightarrow XW\to Z$
            3. 分解规则：$X\to Y, Z\subseteq Y \Rightarrow X\to Z$
            4. 引理6.1：$X\to A_1A_2A_3... \iff \forall i, X\to A_i 成立$
         4. 依赖集F的闭包：$F^{+} = \{A\to B | \forall (C\to D) \in F \Rightarrow^* (A\to B)\}$
         5. **（必考）**属性X关于依赖集F闭包：$X^+_F = \{X,B|(X\to B )\in F^+ \}$
         6. 属性依赖集的计算方法，PPT。